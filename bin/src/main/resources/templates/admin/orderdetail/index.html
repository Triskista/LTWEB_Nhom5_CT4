<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/fragments/head :: head"></head>
<body class="hold-transition skin-blue sidebar-mini">
	<!-- Site wrapper -->
	<div class="wrapper">

		<div th:replace="admin/fragments/header :: header"></div>
		<!-- =============================================== -->

		<!-- Left side column. contains the sidebar -->
		<div th:replace="admin/fragments/sidebar :: sidebar"></div>
		<!-- =============================================== -->

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					Quản Lý Chi Tiết Đơn Hàng <small>Xem chi tiết các đơn hàng</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="/admin"><i class="fa fa-dashboard"></i> Trang
							chủ</a></li>
					<li class="active">Danh sách chi tiết đơn hàng</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">

				<div class="box">
					<div class="box-header">
						<h3 class="box-title">Danh Sách Đơn Hàng</h3>
					</div>
					<!-- /.box-header -->
					<div class="box-body">
						<div id="example1_wrapper"
							class="dataTables_wrapper form-inline dt-bootstrap">
							<div class="row">

								<div class="col-sm-6">
									<form method="get" th:action="@{/admin/orderdetail}">
										<div id="example1_filter" class="dataTables_filter">
											<label>Tìm kiếm theo Order ID: <input type="number"
												name="orderId" class="form-control input-sm"
												placeholder="Nhập Order ID" value="" th:value="${orderId}">
											</label>
											<button type="submit" class="btn btn-primary btn-sm">Tìm
												kiếm</button>
										</div>
									</form>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<table id="example1"
										class="table table-bordered table-striped dataTable"
										role="grid" aria-describedby="example1_info">
										<thead>
											<tr role="row">
												<th style="width: 80px;">Order Detail ID</th>
												<th style="width: 130px;">Price</th>
												<th style="width: 100px;">Quantity</th>
												<th style="width: 130px;">Total</th>
												<th style="width: 80px;">Email</th>
												<th style="width: 80px;">Product Name</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="orderdetail : ${orderdetaillist}">
												<td th:text="${orderdetail.orderDetailId}"></td>
												<td th:text="${orderdetail.price}"></td>
												<td th:text="${orderdetail.quantity}"></td>
												<td th:text="${orderdetail.total}"></td>
												<td th:text="${orderdetail.order.user.email}"></td>
												<td th:text="${orderdetail.product.productName}"></td>
											</tr>
										</tbody>
									</table>

									<div class="row">
										<div class="col-sm-12">
											<nav aria-label="Page navigation">
												<ul class="pagination">
													<!-- Nút Previous -->
													<li th:classappend="${currentPage == 0} ? 'disabled'">
														<a th:if="${currentPage > 0}"
														th:href="@{/admin/orderdetail?page={page}&size={size}(page=${currentPage - 1}, size=${size})}"
														aria-label="Previous"> <span aria-hidden="true">&laquo;</span>
													</a> <span th:if="${currentPage == 0}" aria-hidden="true">&laquo;</span>
													</li>

													<!-- Số trang -->
													<li th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
														th:classappend="${i == currentPage} ? 'active'"><a
														th:href="@{/admin/orderdetail?page={page}&size={size}(page=${i}, size=${size})}"
														th:text="${i + 1}"></a></li>

													<!-- Nút Next -->
													<li
														th:classappend="${currentPage + 1 == totalPages} ? 'disabled'">
														<a th:if="${currentPage + 1 < totalPages}"
														th:href="@{/admin/orderdetail?page={page}&size={size}(page=${currentPage + 1}, size=${size})}"
														aria-label="Next"> <span aria-hidden="true">&raquo;</span>
													</a> <span th:if="${currentPage + 1 == totalPages}"
														aria-hidden="true">&raquo;</span>
													</li>
												</ul>
											</nav>
										</div>
									</div>
								</div>
							</div>
							<div class="row"></div>
						</div>
					</div>
				</div>

			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<div th:replace="admin/fragments/footer :: footer"></div>

	</div>
	<!-- ./wrapper -->

	<!-- jQuery 3 -->
	<div th:replace="admin/fragments/script :: script"></div>
	<script
		src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
	<script src="/js/mainjs.js"></script>
</body>
</html>
